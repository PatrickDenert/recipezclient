{"ast":null,"code":"import _regeneratorRuntime from\"/home/pdenert/projects/webdev/recipeapp/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/pdenert/projects/webdev/recipeapp/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/pdenert/projects/webdev/recipeapp/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useParams,useNavigate}from\"react-router\";import{Divider,Grid,Paper,Stack}from\"@mui/material\";import Rating from'@mui/material/Rating';import Table from'@mui/material/Table';import TableBody from'@mui/material/TableBody';import TableCell from'@mui/material/TableCell';import TableContainer from'@mui/material/TableContainer';import TableHead from'@mui/material/TableHead';import TableRow from'@mui/material/TableRow';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RecipeDetails=function RecipeDetails(){var _useState=useState({//store recipe from mongodb\nname:\"\",servings:\"\",time:\"\",rating:\"\",base64Img:\"\",ingredients:[{}]}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var _useParams=useParams(),_id=_useParams._id;//get id from route\nvar navigate=useNavigate();useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,message,recipe;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:5050/record/\".concat(_id.toString()));case 2:response=_context.sent;if(response.ok){_context.next=7;break;}message=\"An error has occurred: \".concat(response.statusText);window.alert(message);return _context.abrupt(\"return\");case 7:_context.next=9;return response.json();case 9:recipe=_context.sent;console.log(\"hello\");if(recipe){_context.next=15;break;}window.alert(\"Recipe with id \".concat(_id,\" not found\"));navigate(\"/recipes\");return _context.abrupt(\"return\");case 15:setForm(recipe);console.log(recipe);case 17:case\"end\":return _context.stop();}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();return;},[_id,navigate]);return/*#__PURE__*/_jsx(Stack,{sx:{ml:-1,mr:-1},paddingTop:\"75px\",textAlign:\"center\",color:\"text.primary\",bgcolor:\"background.default\",children:/*#__PURE__*/_jsxs(Stack,{sx:{mt:3,ml:5,mr:5,border:2,borderRadius:'16px'},bgcolor:\"action.selected\",children:[/*#__PURE__*/_jsx(\"h1\",{children:form.name}),/*#__PURE__*/_jsx(Divider,{sx:{borderBottomWidth:1,backgroundColor:\"black\",width:\"33%\",ml:\"33%\"}}),/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,lg:4,children:/*#__PURE__*/_jsxs(\"h2\",{children:[\"Servings: \",form.servings]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,lg:4,children:/*#__PURE__*/_jsxs(\"h2\",{children:[\"Time: \",form.time]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,lg:4,children:/*#__PURE__*/_jsxs(Grid,{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Rating: \",form.rating,\"/5\"]}),/*#__PURE__*/_jsx(Rating,{value:form.rating,readOnly:true})]})})]}),/*#__PURE__*/_jsx(\"div\",{sx:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"img\",{src:form.base64Img,alt:form.name,height:\"400px\",width:\"400px\"})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Ingredients \"}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,sx:{width:\"33%\",margin:\"auto\"},children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Ingredient\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Amount\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Measurement\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:form.ingredients.map(function(ingredient){return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:ingredient.ingredient}),/*#__PURE__*/_jsx(TableCell,{children:ingredient.amount}),/*#__PURE__*/_jsx(TableCell,{children:ingredient.measurement})]});})})]})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Instructions \"}),/*#__PURE__*/_jsx(Table,{component:Paper,sx:{width:\"33%\",margin:\"auto\",textAlign:\"justify\"},children:/*#__PURE__*/_jsx(\"pre\",{children:form.instructions})})]})});};export default RecipeDetails;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Divider","Grid","Paper","Stack","Rating","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","jsx","_jsx","jsxs","_jsxs","RecipeDetails","_useState","name","servings","time","rating","base64Img","ingredients","_useState2","_slicedToArray","form","setForm","_useParams","_id","navigate","fetchData","_fetchData","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","message","recipe","wrap","_callee$","_context","prev","next","fetch","concat","toString","sent","ok","statusText","window","alert","abrupt","json","console","log","stop","sx","ml","mr","paddingTop","textAlign","color","bgcolor","children","mt","border","borderRadius","borderBottomWidth","backgroundColor","width","container","item","xs","lg","value","readOnly","src","alt","height","component","margin","map","ingredient","amount","measurement","instructions"],"sources":["/home/pdenert/projects/webdev/recipeapp/client/src/components/recipedetails.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router\";\nimport {Divider, Grid, Paper, Stack} from \"@mui/material\";\nimport Rating from '@mui/material/Rating';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\n\n\nconst RecipeDetails = () => {\n    const [form, setForm] = useState({                              //store recipe from mongodb\n        name: \"\",\n        servings: \"\",\n        time: \"\",\n        rating: \"\",\n        base64Img: \"\",\n        ingredients: [{}],\n      });\n\n     const { _id } = useParams();                                   //get id from route\n     const navigate = useNavigate();\n    useEffect(() => {\n    async function fetchData() {                                    //get recipe from mongodb\n        const response = await fetch(`http://localhost:5050/record/${_id.toString()}`);\n        if (!response.ok) {\n           const message = `An error has occurred: ${response.statusText}`;\n           window.alert(message);\n           return;\n        }\n\n        const recipe = await response.json();\n        console.log(\"hello\");\n        if (!recipe) {\n            window.alert(`Recipe with id ${_id} not found`);\n           navigate(\"/recipes\");\n           return;\n         }\n         setForm(recipe);\n         console.log(recipe);\n       }\n       fetchData();\n       return;\n    }, [_id, navigate]);\n    return(\n        <Stack sx={{ml: -1, mr: -1,}} paddingTop='75px' textAlign='center' color={\"text.primary\"} bgcolor={\"background.default\"} >\n            <Stack sx={{mt: 3, ml: 5, mr: 5, border: 2, borderRadius: '16px'}} bgcolor={\"action.selected\"} >\n            <h1>{form.name}</h1>\n            <Divider sx={{ borderBottomWidth: 1, backgroundColor: \"black\", width: \"33%\", ml: \"33%\"}}/>\n                <Grid container>\n                    <Grid item xs={12} lg={4}><h2>Servings: {form.servings}</h2></Grid>\n                    <Grid item xs={12} lg={4}><h2>Time: {form.time}</h2></Grid>\n                    <Grid item xs={12} lg={4}><Grid><h2>Rating: {form.rating}/5</h2><Rating value={form.rating} readOnly></Rating></Grid></Grid>\n                </Grid>\n                <div sx={{textAlign: \"center\"}}><img src={form.base64Img} alt={form.name} height=\"400px\" width=\"400px\"></img></div>\n                <h1>Ingredients </h1>\n                <TableContainer component={Paper} sx={{width:\"33%\", margin:\"auto\"}}>\n                    <Table>\n                        <TableHead>\n                            <TableRow>\n                                <TableCell>Ingredient</TableCell>\n                                <TableCell>Amount</TableCell>\n                                <TableCell>Measurement</TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {form.ingredients.map(ingredient => (\n                                <TableRow>\n                                    <TableCell>{ingredient.ingredient}</TableCell>\n                                    <TableCell>{ingredient.amount}</TableCell>\n                                    <TableCell>{ingredient.measurement}</TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n                <h1>Instructions </h1>\n                <Table component={Paper} sx={{width:\"33%\", margin:\"auto\", textAlign: \"justify\"}}>\n                    <pre>{form.instructions}</pre>\n                </Table>\n            </Stack>\n        </Stack>\n        );\n}\n\nexport default RecipeDetails;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}