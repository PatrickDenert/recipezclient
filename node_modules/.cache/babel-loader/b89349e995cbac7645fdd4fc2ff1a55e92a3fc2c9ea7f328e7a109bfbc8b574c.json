{"ast":null,"code":"import _regeneratorRuntime from\"/home/pdenert/projects/webdev/recipeapp/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/pdenert/projects/webdev/recipeapp/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/pdenert/projects/webdev/recipeapp/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Recipe=function Recipe(props){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:props.recipe.name}),/*#__PURE__*/_jsx(\"td\",{children:props.recipe.servings}),/*#__PURE__*/_jsx(\"td\",{children:props.recipe.time}),/*#__PURE__*/_jsx(\"td\",{children:props.recipe.rating}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:\"data:image/png;\".concat(props.recipe.base64Img),alt:\"Recipe\"})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{className:\"btn btn-link\",to:\"/edit/\".concat(props.recipe._id),children:\"Edit\"}),\" |\",/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-link\",onClick:function onClick(){props.deleteRecipe(props.recipe._id);},children:\"Delete\"})]})]});};export default function RecipeList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),recipes=_useState2[0],setRecipes=_useState2[1];// This method fetches the records from the database.\nuseEffect(function(){function getRecipes(){return _getRecipes.apply(this,arguments);}function _getRecipes(){_getRecipes=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,message,recipes;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:5050/record/\");case 2:response=_context.sent;if(response.ok){_context.next=7;break;}message=\"An error occurred: \".concat(response.statusText);window.alert(message);return _context.abrupt(\"return\");case 7:_context.next=9;return response.json();case 9:recipes=_context.sent;setRecipes(recipes);case 11:case\"end\":return _context.stop();}},_callee);}));return _getRecipes.apply(this,arguments);}getRecipes();return;},[recipes.length]);// This method will delete a record\nfunction _deleteRecipe2(_x){return _deleteRecipe.apply(this,arguments);}// This method will map out the records on the table\nfunction _deleteRecipe(){_deleteRecipe=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var newRecipes;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"http://localhost:5050/record/\".concat(id),{method:\"DELETE\"});case 2:newRecipes=recipes.filter(function(el){return el._id!==id;});setRecipes(newRecipes);case 4:case\"end\":return _context2.stop();}},_callee2);}));return _deleteRecipe.apply(this,arguments);}function recipeList(){return recipes.map(function(recipe){return/*#__PURE__*/_jsx(Recipe,{recipe:recipe,deleteRecipe:function deleteRecipe(){return _deleteRecipe2(recipe._id);}},recipe._id);});}// This following section will display the table with the records of individuals.\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Recipe List\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped\",style:{marginTop:20},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Servings\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Time\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Rating\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:recipeList()})]})]});}","map":{"version":3,"names":["React","useEffect","useState","Link","jsx","_jsx","jsxs","_jsxs","Recipe","props","children","recipe","name","servings","time","rating","src","concat","base64Img","alt","className","to","_id","onClick","deleteRecipe","RecipeList","_useState","_useState2","_slicedToArray","recipes","setRecipes","getRecipes","_getRecipes","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","message","wrap","_callee$","_context","prev","next","fetch","sent","ok","statusText","window","alert","abrupt","json","stop","length","_x","_deleteRecipe","_callee2","id","newRecipes","_callee2$","_context2","method","filter","el","recipeList","map","style","marginTop"],"sources":["/home/pdenert/projects/webdev/recipeapp/client/src/components/recordList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\n\n\nconst Recipe = (props) => (\n <tr>\n   <td>{props.recipe.name}</td>\n   <td>{props.recipe.servings}</td>\n   <td>{props.recipe.time}</td>\n   <td>{props.recipe.rating}</td>\n   <td><img src={`data:image/png;${props.recipe.base64Img}`} alt=\"Recipe\" /></td>\n   <td>\n     <Link className=\"btn btn-link\" to={`/edit/${props.recipe._id}`}>Edit</Link> |\n     <button className=\"btn btn-link\"\n       onClick={() => {\n         props.deleteRecipe(props.recipe._id);\n       }}\n     >\n       Delete\n     </button>\n   </td>\n </tr>\n);\n\nexport default function RecipeList() {\n const [recipes, setRecipes] = useState([]);\n\n // This method fetches the records from the database.\n useEffect(() => {\n   async function getRecipes() {\n     const response = await fetch(`http://localhost:5050/record/`);\n\n     if (!response.ok) {\n       const message = `An error occurred: ${response.statusText}`;\n       window.alert(message);\n       return;\n     }\n\n     const recipes = await response.json();\n     setRecipes(recipes);\n   }\n\n   getRecipes();\n\n   return;\n }, [recipes.length]);\n\n // This method will delete a record\n async function deleteRecipe(id) {\n   await fetch(`http://localhost:5050/record/${id}`, {\n     method: \"DELETE\"\n   });\n\n   const newRecipes = recipes.filter((el) => el._id !== id);\n   setRecipes(newRecipes);\n }\n\n // This method will map out the records on the table\n function recipeList() {\n   return recipes.map((recipe) => {\n     return (\n       <Recipe\n         recipe={recipe}\n         deleteRecipe={() => deleteRecipe(recipe._id)}\n         key={recipe._id}\n       />\n     );\n   });\n }\n\n // This following section will display the table with the records of individuals.\n return (\n   <div>\n     <h3>Recipe List</h3>\n     <table className=\"table table-striped\" style={{ marginTop: 20 }}>\n       <thead>\n         <tr>\n           <th>Name</th>\n           <th>Servings</th>\n           <th>Time</th>\n           <th>Rating</th>\n           <th>Action</th>\n         </tr>\n       </thead>\n       <tbody >{recipeList()}</tbody>\n     </table>\n   </div>\n );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}